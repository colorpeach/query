<!DOCTYPE html>
<html>
  <head>
  	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>data-class</title>
	</head>
	<body>
		<div data-class="box">
			<input type="text" data-class="name" />
			<input type="text" data-class="sex ext" />
			<span data-class="good ext"></span>
			<span data-class="data.name ok"></span>
			<span data-class="data.good"></span>
			<button data-class="add-item">添加</button>
			<div data-class="list[]"></div>
		</div>
	</body>
	<script type="text/template" id="list-template">
		<span data-class="ok"></span>
		<span data-class="data.name"></span>
	</script>
	<script type="text/javascript" src="./cp.core.js"></script>
	<script type="text/javascript" src="./cp.event.js"></script>
	<script type="text/javascript" src="./cp.vm.js"></script>
	<script>
	var vm = cp.vm({
		name:{
			name:"name",
			formatter:function(dom,data){
					return data.cell+1;
			}
		},
		ext:{
			formatter:function(dom,data){
					return data.cell+2;
			}
		},
		ext2:{
			formatter:function(dom,data){
					return data.cell+3;
			}
		},
		"add-item":{
			event:{
				click:function(){
					vm.addData("list[]",{ok:"cc",data:{name:"now"}});
				}
			}
		},
		"data.name":{
			formatter:function(dom,data){
				return data.cell + "...";
			}
		},
		"list[]":{
			template:"list-template"
		}
	});

	vm.renderData({name:"dd",sex:"dcc",good:"ccc",data:{name:"ddd",good:"cdcdc"},list:[{ok:"ccc",data:{name:"dcdc"}},{ok:"aaa",data:{name:"111"}}]});

// 	vm.renderData({name:"dd",sex:"dcc",good:"44",data:{name:"2",good:"3"},list:[{ok:"112",data:{name:"3334"}},{ok:"333",data:{name:"222"}}]});
	</script>
</html>